<!DOCTYPE html>

<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investimentos IPAJM - Guia de Auditoria</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

```
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
        line-height: 1.6;
    }
    
    .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 16px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        overflow: hidden;
    }
    
    header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 40px;
        text-align: center;
    }
    
    header h1 { font-size: 2.5rem; margin-bottom: 10px; }
    header p { font-size: 1.1rem; opacity: 0.9; }
    
    .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        padding: 30px 40px;
        background: #f8f9fa;
        border-bottom: 2px solid #e9ecef;
    }
    
    .stat-card {
        background: white;
        padding: 20px;
        border-radius: 12px;
        text-align: center;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .stat-card h3 { font-size: 2rem; color: #667eea; margin-bottom: 5px; }
    .stat-card p { color: #6c757d; font-size: 0.9rem; }
    
    .content { padding: 40px; }
    
    .process-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 40px;
    }
    
    .process-card {
        background: white;
        border: 2px solid #e9ecef;
        border-radius: 12px;
        padding: 20px;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .process-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        border-color: #667eea;
    }
    
    .process-card.active {
        border-color: #667eea;
        background: #f8f9ff;
    }
    
    .process-header {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 15px;
    }
    
    .process-number {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 1.2rem;
    }
    
    .process-card h3 { color: #2d3748; font-size: 1.1rem; }
    .process-card .freq { color: #6c757d; font-size: 0.85rem; margin-top: 10px; }
    
    .detail-view {
        background: #f8f9fa;
        border-radius: 12px;
        padding: 30px;
        margin-top: 30px;
        display: none;
    }
    
    .detail-view.active { display: block; }
    
    .detail-view h2 {
        color: #2d3748;
        font-size: 1.8rem;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 3px solid #667eea;
    }
    
    .section {
        background: white;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 20px;
    }
    
    .section h3 {
        color: #667eea;
        font-size: 1.3rem;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .section h3::before {
        content: '‚ñ∏';
        color: #764ba2;
    }
    
    .task-list {
        list-style: none;
        padding-left: 0;
    }
    
    .task-list li {
        padding: 12px;
        margin-bottom: 8px;
        background: #f8f9fa;
        border-left: 4px solid #667eea;
        border-radius: 4px;
    }
    
    .task-list li strong { color: #2d3748; }
    
    .risk-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
    }
    
    .risk-table th {
        background: #667eea;
        color: white;
        padding: 12px;
        text-align: left;
        font-size: 0.9rem;
    }
    
    .risk-table td {
        padding: 12px;
        border-bottom: 1px solid #e9ecef;
    }
    
    .risk-table tr:hover { background: #f8f9fa; }
    
    .risk-high { color: #dc3545; font-weight: bold; }
    .risk-medium { color: #ffc107; font-weight: bold; }
    .risk-low { color: #28a745; font-weight: bold; }
    
    .badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 12px;
        font-size: 0.85rem;
        font-weight: 600;
    }
    
    .badge-freq { background: #e3f2fd; color: #1976d2; }
    .badge-complexity { background: #fff3e0; color: #f57c00; }
    
    .back-btn {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
        margin-bottom: 20px;
        transition: transform 0.2s;
    }
    
    .back-btn:hover { transform: scale(1.05); }
    
    .export-btn {
        position: fixed;
        bottom: 30px;
        right: 30px;
        background: #28a745;
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 50px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: bold;
        box-shadow: 0 4px 15px rgba(40, 167, 69, 0.4);
        transition: all 0.3s;
    }
    
    .export-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(40, 167, 69, 0.6);
    }
    
    @media (max-width: 768px) {
        .process-grid { grid-template-columns: 1fr; }
        header h1 { font-size: 1.8rem; }
        .content { padding: 20px; }
    }
</style>
```

</head>
<body>
    <div class="container">
        <header>
            <h1>üìä Investimentos IPAJM</h1>
            <p>Guia Completo - Normas 08.01 a 08.07</p>
        </header>

```
    <div class="stats">
        <div class="stat-card">
            <h3>7</h3>
            <p>Normas de Procedimento</p>
        </div>
        <div class="stat-card">
            <h3>55</h3>
            <p>Tarefas Totais</p>
        </div>
        <div class="stat-card">
            <h3>100%</h3>
            <p>Cobertura Completa</p>
        </div>
    </div>
    
    <div class="content">
        <div id="process-list">
            <h2 style="margin-bottom: 25px; color: #2d3748;">Selecione uma Norma:</h2>
            <div class="process-grid" id="processGrid"></div>
        </div>
        
        <div id="detail-view" class="detail-view"></div>
    </div>
</div>

<button class="export-btn" onclick="exportToPDF()">üì• Exportar PDF</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
    const PROCESSES = [
        {
            id: 'np0801',
            number: '08.01',
            name: 'Pol√≠tica Anual de Investimentos (PAI)',
            freq: 'Anual',
            complexity: 5,
            tasks: 22,
            objective: 'Estabelecer objetivos e restri√ß√µes de investimento para o exerc√≠cio, definindo segmentos, ativos financeiros e faixas de aloca√ß√£o estrat√©gica.',
            keyPoints: [
                'Aprovada pelo CONADM at√© dezembro',
                'DPIN enviado ao CADPREV at√© 31/12',
                'Baseada em estudo ALM (Asset Liability Management)',
                'Define limites por segmento conforme Res. CMN 4.963/2021'
            ],
            phases: [
                { name: 'Prepara√ß√£o', period: 'Outubro-Novembro', tasks: 'T1-T6: Convoca√ß√£o COMIN, estudo ALM, an√°lise legal' },
                { name: 'Defini√ß√£o Estrat√©gica', period: 'Novembro', tasks: 'T7-T8: Estrat√©gia de aloca√ß√£o, minuta final' },
                { name: 'Formaliza√ß√£o', period: 'Dezembro', tasks: 'T9-T14: Autua√ß√£o E-Docs, aprova√ß√£o CONADM' },
                { name: 'Divulga√ß√£o', period: 'Dezembro', tasks: 'T15-T21: DPIN, publica√ß√£o site, parametriza√ß√£o' }
            ],
            risks: [
                { risk: 'PAI n√£o aprovada no prazo', severity: 'CR√çTICA', control: 'Cronograma desde outubro' },
                { risk: 'Estudo ALM inadequado', severity: 'ALTA', control: 'Consultoria especializada' },
                { risk: 'Sistema n√£o parametrizado', severity: 'ALTA', control: 'Parametriza√ß√£o p√≥s-aprova√ß√£o' }
            ]
        },
        {
            id: 'np0802',
            number: '08.02',
            name: 'Credenciamento de IFs',
            freq: 'Sob demanda',
            complexity: 4,
            tasks: 11,
            objective: 'Habilitar institui√ß√µes financeiras aptas a receber recursos do ES-PREVID√äNCIA.',
            keyPoints: [
                'Pr√©-requisito para qualquer opera√ß√£o',
                'Tipos: Administrador, Gestor, Distribuidor, Emissor, Intermedi√°rio, Custodiante',
                'Dupla aprova√ß√£o: COMIN homologa + CONADM autoriza',
                'Publica√ß√£o obrigat√≥ria no site IPAJM'
            ],
            phases: [
                { name: 'An√°lise', period: 'Vari√°vel', tasks: 'T1-T3: Recebimento, an√°lise checklist, tratativa' },
                { name: 'Formaliza√ß√£o', period: 'Vari√°vel', tasks: 'T4-T7: E-Docs, COMIN, CONADM' },
                { name: 'Publica√ß√£o', period: 'Vari√°vel', tasks: 'T8-T10: Resolu√ß√£o, publica√ß√£o site' }
            ],
            risks: [
                { risk: 'IF sem registro CVM/BACEN', severity: 'CR√çTICA', control: 'Verifica√ß√£o obrigat√≥ria' },
                { risk: 'Credenciamento sem COMIN', severity: 'CR√çTICA', control: 'Fluxo obrigat√≥rio' },
                { risk: 'Opera√ß√µes antes do credenciamento', severity: 'CR√çTICA', control: 'Controle cronol√≥gico' }
            ]
        },
        {
            id: 'np0803',
            number: '08.03',
            name: 'Cadastramento de Fundos',
            freq: 'Sob demanda',
            complexity: 4,
            tasks: 8,
            objective: 'Registrar fundos de investimento aptos a receber recursos (ap√≥s IF credenciada).',
            keyPoints: [
                'Pr√©-requisito: IF credenciada (NP 08.02)',
                'An√°lise t√©cnica: COMIN + consultoria (se complexo)',
                'Duplo registro: Sistema + CADPREV',
                'Enquadramento pr√©vio √† PAI'
            ],
            phases: [
                { name: 'An√°lise', period: 'Vari√°vel', tasks: 'T1-T3: Documenta√ß√£o, enquadramento' },
                { name: 'Avalia√ß√£o', period: 'Vari√°vel', tasks: 'T4-T5: COMIN avalia fundo' },
                { name: 'Registro', period: 'Vari√°vel', tasks: 'T6-T7: Autoriza√ß√£o, atualiza√ß√£o bases' }
            ],
            risks: [
                { risk: 'Fundo de IF n√£o credenciada', severity: 'CR√çTICA', control: 'Pr√©-requisito r√≠gido' },
                { risk: 'Fundo fora dos limites PAI', severity: 'CR√çTICA', control: 'Verifica√ß√£o pr√©via' },
                { risk: 'Aplica√ß√£o antes do cadastro', severity: 'CR√çTICA', control: 'Controle cronol√≥gico' }
            ]
        },
        {
            id: 'np0804',
            number: '08.04',
            name: 'An√°lise de Desempenho',
            freq: 'Di√°ria/Mensal',
            complexity: 3,
            tasks: 7,
            objective: 'Analisar desempenho da carteira e monitorar enquadramentos.',
            keyPoints: [
                'Coleta di√°ria de dados (T1-T2)',
                'Relat√≥rios mensais no site (√∫ltimo dia √∫til)',
                'Verifica√ß√£o cont√≠nua de enquadramento',
                'Dispara a√ß√µes corretivas (NP 08.05/08.06)'
            ],
            phases: [
                { name: 'Coleta', period: 'Di√°ria', tasks: 'T1-T2: Dados, lan√ßamentos' },
                { name: 'Publica√ß√£o', period: 'Mensal', tasks: 'T3: Relat√≥rios + Conselho Fiscal' },
                { name: 'Monitoramento', period: 'Cont√≠nua', tasks: 'T4-T7: Enquadramento + a√ß√µes' }
            ],
            risks: [
                { risk: 'Sistema desatualizado', severity: 'ALTA', control: 'Coleta di√°ria' },
                { risk: 'Desenquadramento n√£o identificado', severity: 'CR√çTICA', control: 'Verifica√ß√£o autom√°tica' },
                { risk: 'Desenquadramento sem a√ß√£o', severity: 'CR√çTICA', control: 'Fluxos 08.05/08.06' }
            ]
        },
        {
            id: 'np0805',
            number: '08.05',
            name: 'Movimenta√ß√µes Di√°rias',
            freq: 'Di√°ria',
            complexity: 3,
            tasks: 9,
            objective: 'Executar aplica√ß√µes e resgates di√°rios de recursos (at√© R$ 50M).',
            keyPoints: [
                'Limite de al√ßada: R$ 50 milh√µes',
                'Acima de R$ 50M ‚Üí NP 08.06',
                'Dupla confirma√ß√£o: GIN executa + DIN confirma',
                'APRs geradas automaticamente'
            ],
            phases: [
                { name: 'Programa√ß√£o', period: 'Di√°ria', tasks: 'T1-T2: SAR informa + GIN programa' },
                { name: 'Execu√ß√£o', period: 'Di√°ria', tasks: 'T5-T6: DIN confirma + registro' },
                { name: 'Formaliza√ß√£o', period: 'D+2', tasks: 'T7-T9: APRs CADPREV assinadas' }
            ],
            risks: [
                { risk: 'Opera√ß√£o >R$ 50M sem GPE', severity: 'CR√çTICA', control: 'Al√ßada obrigat√≥ria' },
                { risk: 'Aplica√ß√£o em fundo n√£o cadastrado', severity: 'CR√çTICA', control: 'Pr√©-requisito' },
                { risk: 'Opera√ß√£o sem confirma√ß√£o DIN', severity: 'ALTA', control: 'Dupla al√ßada' }
            ]
        },
        {
            id: 'np0806',
            number: '08.06',
            name: 'Realoca√ß√£o de Recursos',
            freq: 'Sob demanda',
            complexity: 5,
            tasks: 15,
            objective: 'Realizar realoca√ß√µes estrat√©gicas do Fundo Previdenci√°rio.',
            keyPoints: [
                'Gatilhos: Desenquadramento, risco, oportunidade, volume >R$ 50M',
                'An√°lise t√©cnica: COMIN + consultoria',
                'Dupla aprova√ß√£o: COMIN delibera + GPE autoriza',
                'Registro completo: Ata + Despacho + APRs'
            ],
            phases: [
                { name: 'An√°lise', period: 'Vari√°vel', tasks: 'T1-T2: COMIN avalia alternativas' },
                { name: 'Aprova√ß√£o', period: 'Vari√°vel', tasks: 'T3-T6: Delibera√ß√£o + GPE' },
                { name: 'Execu√ß√£o', period: 'Vari√°vel', tasks: 'T7-T11: Transfer√™ncias + aplica√ß√µes' },
                { name: 'Registro', period: 'D+2', tasks: 'T12-T15: Sistema + APRs' }
            ],
            risks: [
                { risk: 'Realoca√ß√£o sem COMIN', severity: 'CR√çTICA', control: 'Ata obrigat√≥ria' },
                { risk: 'Realoca√ß√£o sem GPE', severity: 'CR√çTICA', control: 'Despacho obrigat√≥rio' },
                { risk: 'Execu√ß√£o divergente', severity: 'ALTA', control: 'Dupla al√ßada' }
            ]
        },
        {
            id: 'np0807',
            number: '08.07',
            name: 'Relat√≥rio SPREV (DAIR)',
            freq: 'Mensal',
            complexity: 4,
            tasks: 14,
            objective: 'Elaborar e enviar DAIR (Demonstrativo das Aplica√ß√µes e Investimentos) √† SPREV.',
            keyPoints: [
                'Prazo: at√© final do m√™s seguinte',
                'Tripla assinatura: GIN + DIN + GPE',
                'Envio autom√°tico (consultoria) + confer√™ncia manual',
                'Publica√ß√£o obrigat√≥ria no site'
            ],
            phases: [
                { name: 'Prepara√ß√£o', period: 'Dia 05-10', tasks: 'T1-T4: Confer√™ncia + envio autom√°tico' },
                { name: 'Assinatura APRs', period: 'Dia 11-15', tasks: 'T5-T6: DIN + GPE assinam' },
                { name: 'Envio DAIR', period: 'Dia 16-25', tasks: 'T7-T9: Envio + assinaturas' },
                { name: 'Finaliza√ß√£o', period: 'Dia 26-30', tasks: 'T10-T14: Notifica√ß√µes + publica√ß√£o' }
            ],
            risks: [
                { risk: 'DAIR n√£o enviado no prazo', severity: 'CR√çTICA', control: 'Cronograma mensal' },
                { risk: 'Dados divergentes', severity: 'ALTA', control: 'Confer√™ncia pr√©via' },
                { risk: 'DAIR assinado por n√£o autorizados', severity: 'ALTA', control: 'Certifica√ß√£o digital' }
            ]
        }
    ];
    
    function renderProcessCards() {
        const grid = document.getElementById('processGrid');
        grid.innerHTML = PROCESSES.map(p => `
            <div class="process-card" onclick="showDetail('${p.id}')">
                <div class="process-header">
                    <div class="process-number">${p.number}</div>
                    <div>
                        <h3>${p.name}</h3>
                    </div>
                </div>
                <p style="color: #4a5568; font-size: 0.9rem; margin-bottom: 10px;">${p.objective}</p>
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <span class="badge badge-freq">${p.freq}</span>
                    <span class="badge badge-complexity">${p.tasks} tarefas</span>
                </div>
            </div>
        `).join('');
    }
    
    function showDetail(id) {
        const process = PROCESSES.find(p => p.id === id);
        const detailView = document.getElementById('detail-view');
        const processList = document.getElementById('process-list');
        
        processList.style.display = 'none';
        detailView.style.display = 'block';
        
        detailView.innerHTML = `
            <button class="back-btn" onclick="showList()">‚Üê Voltar</button>
            
            <h2>NP ${process.number} - ${process.name}</h2>
            
            <div class="section">
                <h3>üéØ Objetivo</h3>
                <p>${process.objective}</p>
            </div>
            
            <div class="section">
                <h3>üìå Pontos-Chave</h3>
                <ul class="task-list">
                    ${process.keyPoints.map(p => `<li>${p}</li>`).join('')}
                </ul>
            </div>
            
            <div class="section">
                <h3>üìã Fases do Processo</h3>
                ${process.phases.map(phase => `
                    <div style="margin-bottom: 15px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                        <strong style="color: #667eea;">${phase.name}</strong> 
                        <span style="color: #6c757d; font-size: 0.9rem;">(${phase.period})</span>
                        <p style="margin-top: 8px; color: #4a5568;">${phase.tasks}</p>
                    </div>
                `).join('')}
            </div>
            
            <div class="section">
                <h3>‚ö†Ô∏è Principais Riscos</h3>
                <table class="risk-table">
                    <thead>
                        <tr>
                            <th>Risco</th>
                            <th>Severidade</th>
                            <th>Controle Existente</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${process.risks.map(r => `
                            <tr>
                                <td>${r.risk}</td>
                                <td class="risk-${r.severity.toLowerCase()}">${r.severity}</td>
                                <td>${r.control}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            </div>
        `;
    }
    
    function showList() {
        document.getElementById('process-list').style.display = 'block';
        document.getElementById('detail-view').style.display = 'none';
    }
    
    function exportToPDF() {
        alert('Fun√ß√£o de exporta√ß√£o em desenvolvimento. Use Ctrl+P para imprimir como PDF.');
    }
    
    // Initialize
    renderProcessCards();
</script>
```

</body>
</html>
